<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Seastar: seastar::metrics::internal::approximate_exponential_histogram&lt; Min, Max, Precision &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Seastar
   </div>
   <div id="projectbrief">High performance C++ framework for concurrent servers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceseastar.html">seastar</a></li><li class="navelem"><a class="el" href="namespaceseastar_1_1metrics.html">metrics</a></li><li class="navelem"><b>internal</b></li><li class="navelem"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html">approximate_exponential_histogram</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">seastar::metrics::internal::approximate_exponential_histogram&lt; Min, Max, Precision &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;uint64_t Min, uint64_t Max, size_t Precision&gt;<br />
class seastar::metrics::internal::approximate_exponential_histogram&lt; Min, Max, Precision &gt;</h3>

<p>This is a pseudo-exponential implementation of an estimated histogram.</p>
<p>An exponential-histogram with coefficient 'coef', is a histogram where for bucket 'i' the lower limit is coef^i and the higher limit is coef^(i+1).</p>
<p>A pseudo-exponential is similar but the bucket limits are an approximation.</p>
<p>The <a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html">approximate_exponential_histogram</a> is an efficient pseudo-exponential implementation.</p>
<p>The histogram is defined by a Min and Max value limits, and a Precision (all should be power of 2 and will be explained).</p>
<p>When adding a value to a histogram: All values lower than Min will be included in the first bucket (the assumption is that it's not suppose to happen but it is ok if it does).</p>
<p>All values higher than Max will be included in the last bucket that serves as the infinity bucket (the assumption is that it can happen but it is rare).</p>
<p>Note the difference between the first and last buckets. The first bucket is just like a regular bucket but has a second roll to collect unexpected low values. The last bucket, also known as the infinity bucket, collect all values that passes the defined Max, it only collect those values.</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Buckets Distribution (limits)</h1>
<p>The buckets limits in the histogram are defined similar to a floating-point representation.</p>
<p>Buckets limits have an exponent part and a linear part.</p>
<p>The exponential part is a power of 2. Each power-of-2 range [2^n..2^n+1) is split linearly to 'Precision' number of buckets.</p>
<p>The total number of buckets is: NUM_BUCKETS = log2(Max/Min)*Precision +1</p>
<p>For example, if the Min value is 128, the Max is 1024 and the Precision is 4, the number of buckets is 13.</p>
<p>Anything below 160 will be in the bucket 0, anything above 1024 will be in bucket 13. Note that the first bucket will include all values below Min.</p>
<p>the range [128, 1024) will be split into log2(1024/128) = 3 ranges: 128, 256, 512, 1024 Or more mathematically: [128, 256), [256, 512), [512,1024)</p>
<p>Each range is split into 4 (The Precision). 128 | 256 | 512 | 1024 128 160 192 224| 256 320 384 448| 512 640 768 896|</p>
<p>To get the exponential part of an index you divide by the Precision. The linear part of the index is Modulus the precision.</p>
<p>Calculating the bucket lower limit of bucket i: The exponential part: exp_part = 2^floor(i/Precision)* Min with the above example 2^floor(i/4)*128 The linear part: (iPrecision) * (exp_part/Precision) With the example: (i%4) * (exp_part/4)</p>
<p>So the lower limit of bucket 6: 2^floor(6/4)* 128 = 256 (6%4) * 256/4 = 128 lower-limit = 384</p>
<h1><a class="anchor" id="autotoc_md1"></a>
How to find a bucket index for a value</h1>
<p>The bucket index consist of two parts: higher bits (exponential part) are based on log2(value/min)</p>
<p>lower bits (linear part) are based on the 'n' MSB (ignoring the leading 1) where n=log2(Precision). Continuing with the example where the number of precision bits: PRECISION_BITS = log2(4) = 2</p>
<p>for example: 330 (101001010) The number of precision_bits: PRECISION_BITS = log2(4) = 2 higher bits: log2(330/128) = 1 MSB: 01 (the highest two bits following the leading 1) So the index: 101 = 5</p>
<h1><a class="anchor" id="autotoc_md2"></a>
About the Min, Max and Precision</h1>
<p>For Min, Max and Precision, choose numbers that are a power of 2.</p>
<p>Limitation: You must set the MIN value to be higher or equal to the Precision.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Min</td><td>- The lowest expected value. A value below that will be set to the Min value. </td></tr>
    <tr><td class="paramname">Max</td><td>- The highest number to consider. A value above that is considered&#160;infinite. </td></tr>
    <tr><td class="paramname">Precision</td><td>- The number of buckets in each range (where a range is the i^2..i^(2+1) ) </td></tr>
  </table>
  </dd>
</dl>
</div>
<p><code>#include &lt;<a class="el" href="estimated__histogram_8hh_source.html">seastar/core/internal/estimated_histogram.hh</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4d99f87037e8784a5eae44b7660a4d36"><td class="memItemLeft" align="right" valign="top"><a id="a4d99f87037e8784a5eae44b7660a4d36"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#a4d99f87037e8784a5eae44b7660a4d36">get_bucket_lower_limit</a> (uint16_t bucket_id) const</td></tr>
<tr class="memdesc:a4d99f87037e8784a5eae44b7660a4d36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the bucket lower limit given the bucket id. The first and last bucket will always return the MIN and MAX respectively. <br /></td></tr>
<tr class="separator:a4d99f87037e8784a5eae44b7660a4d36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cacaa7a411d33254dc39cbed2e8ef69"><td class="memItemLeft" align="right" valign="top"><a id="a2cacaa7a411d33254dc39cbed2e8ef69"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#a2cacaa7a411d33254dc39cbed2e8ef69">get_bucket_upper_limit</a> (uint16_t bucket_id) const</td></tr>
<tr class="memdesc:a2cacaa7a411d33254dc39cbed2e8ef69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the bucket upper limit given the bucket id. The last bucket (Infinity bucket) will return UMAX_INT. <br /></td></tr>
<tr class="separator:a2cacaa7a411d33254dc39cbed2e8ef69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ad7aed2f77cd7693cf628a64333f21"><td class="memItemLeft" align="right" valign="top"><a id="af7ad7aed2f77cd7693cf628a64333f21"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#af7ad7aed2f77cd7693cf628a64333f21">find_bucket_index</a> (uint64_t val) const</td></tr>
<tr class="memdesc:af7ad7aed2f77cd7693cf628a64333f21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the bucket index for a given value The position of a value that is lower or equal to Min will always be 0. The position of a value that is higher or equal to MAX will always be NUM_BUCKETS - 1. <br /></td></tr>
<tr class="separator:af7ad7aed2f77cd7693cf628a64333f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a241964865d152d0a883b3abd8264b1f1"><td class="memItemLeft" align="right" valign="top"><a id="a241964865d152d0a883b3abd8264b1f1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#a241964865d152d0a883b3abd8264b1f1">clear</a> ()</td></tr>
<tr class="memdesc:a241964865d152d0a883b3abd8264b1f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">clear the current values. <br /></td></tr>
<tr class="separator:a241964865d152d0a883b3abd8264b1f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73e9dbd99074e1fe913eed4bfb31d68"><td class="memItemLeft" align="right" valign="top"><a id="af73e9dbd99074e1fe913eed4bfb31d68"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#af73e9dbd99074e1fe913eed4bfb31d68">add</a> (uint64_t n)</td></tr>
<tr class="memdesc:af73e9dbd99074e1fe913eed4bfb31d68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an item to the histogram Increments the count of the bucket holding that value. <br /></td></tr>
<tr class="separator:af73e9dbd99074e1fe913eed4bfb31d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d344b2c6ad00c1b180357c55646a23c"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#a8d344b2c6ad00c1b180357c55646a23c">min</a> () const</td></tr>
<tr class="memdesc:a8d344b2c6ad00c1b180357c55646a23c"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the smallest value that could have been added to this histogram This method looks for the first non-empty bucket and returns its lower limit. Note that for non-empty histogram the lowest potentail value is Min.  <a href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#a8d344b2c6ad00c1b180357c55646a23c">More...</a><br /></td></tr>
<tr class="separator:a8d344b2c6ad00c1b180357c55646a23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a456f318965bd103fe039c0a9665d92c2"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#a456f318965bd103fe039c0a9665d92c2">max</a> () const</td></tr>
<tr class="memdesc:a456f318965bd103fe039c0a9665d92c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the largest value that could have been added to this histogram. This method looks for the first non empty bucket and return its upper limit. If the histogram overflowed, it will returns UINT64_MAX.  <a href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#a456f318965bd103fe039c0a9665d92c2">More...</a><br /></td></tr>
<tr class="separator:a456f318965bd103fe039c0a9665d92c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab957861d0032d727b3217b04ec6ed419"><td class="memItemLeft" align="right" valign="top"><a id="ab957861d0032d727b3217b04ec6ed419"></a>
<a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html">approximate_exponential_histogram</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#ab957861d0032d727b3217b04ec6ed419">merge</a> (const <a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html">approximate_exponential_histogram</a> &amp;b)</td></tr>
<tr class="memdesc:ab957861d0032d727b3217b04ec6ed419"><td class="mdescLeft">&#160;</td><td class="mdescRight">merge a histogram to the current one. <br /></td></tr>
<tr class="separator:ab957861d0032d727b3217b04ec6ed419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061736f43a798ca6a31daaa76485529e"><td class="memItemLeft" align="right" valign="top"><a id="a061736f43a798ca6a31daaa76485529e"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>get</b> (size_t bucket) const</td></tr>
<tr class="separator:a061736f43a798ca6a31daaa76485529e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab7b7955bac2b219af02a5926bef5d88"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#aab7b7955bac2b219af02a5926bef5d88">quantile</a> (float quantile) const</td></tr>
<tr class="memdesc:aab7b7955bac2b219af02a5926bef5d88"><td class="mdescLeft">&#160;</td><td class="mdescRight">get a histogram quantile  <a href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#aab7b7955bac2b219af02a5926bef5d88">More...</a><br /></td></tr>
<tr class="separator:aab7b7955bac2b219af02a5926bef5d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d4878222d27f502a1d729bca31f5e4"><td class="memItemLeft" align="right" valign="top"><a id="a06d4878222d27f502a1d729bca31f5e4"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#a06d4878222d27f502a1d729bca31f5e4">mean</a> () const</td></tr>
<tr class="memdesc:a06d4878222d27f502a1d729bca31f5e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the mean histogram value (average of bucket offsets, weighted by count) It will return 0 if the histogram is empty. <br /></td></tr>
<tr class="separator:a06d4878222d27f502a1d729bca31f5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa13eedc896982d211fff1702f01a3f7f"><td class="memItemLeft" align="right" valign="top"><a id="aa13eedc896982d211fff1702f01a3f7f"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#aa13eedc896982d211fff1702f01a3f7f">size</a> () const</td></tr>
<tr class="memdesc:aa13eedc896982d211fff1702f01a3f7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the number of buckets; <br /></td></tr>
<tr class="separator:aa13eedc896982d211fff1702f01a3f7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a6de62c57e57e800344fed247a7ff45"><td class="memItemLeft" align="right" valign="top"><a id="a6a6de62c57e57e800344fed247a7ff45"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#a6a6de62c57e57e800344fed247a7ff45">count</a> () const</td></tr>
<tr class="memdesc:a6a6de62c57e57e800344fed247a7ff45"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the total number of values inserted <br /></td></tr>
<tr class="separator:a6a6de62c57e57e800344fed247a7ff45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb4ec505d96d0754d6f5676609a18639"><td class="memItemLeft" align="right" valign="top"><a id="adb4ec505d96d0754d6f5676609a18639"></a>
<a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html">approximate_exponential_histogram</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html#adb4ec505d96d0754d6f5676609a18639">operator*=</a> (double v)</td></tr>
<tr class="memdesc:adb4ec505d96d0754d6f5676609a18639"><td class="mdescLeft">&#160;</td><td class="mdescRight">multiple all the buckets content in the histogram by a constant <br /></td></tr>
<tr class="separator:adb4ec505d96d0754d6f5676609a18639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae461db2f3e0b0351ddc10e92fc7cca37"><td class="memItemLeft" align="right" valign="top"><a id="ae461db2f3e0b0351ddc10e92fc7cca37"></a>
uint64_t &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator[]</b> (size_t b) noexcept</td></tr>
<tr class="separator:ae461db2f3e0b0351ddc10e92fc7cca37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2b16690800c2c87ef1b6fbecbab3a3"><td class="memItemLeft" align="right" valign="top"><a id="afe2b16690800c2c87ef1b6fbecbab3a3"></a>
<a class="el" href="structseastar_1_1metrics_1_1histogram.html">seastar::metrics::histogram</a>&#160;</td><td class="memItemRight" valign="bottom"><b>to_metrics_histogram</b> () const noexcept</td></tr>
<tr class="separator:afe2b16690800c2c87ef1b6fbecbab3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a456f318965bd103fe039c0a9665d92c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a456f318965bd103fe039c0a9665d92c2">&#9670;&nbsp;</a></span>max()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;uint64_t Min, uint64_t Max, size_t Precision&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html">seastar::metrics::internal::approximate_exponential_histogram</a>&lt; Min, Max, Precision &gt;::max </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns the largest value that could have been added to this histogram. This method looks for the first non empty bucket and return its upper limit. If the histogram overflowed, it will returns UINT64_MAX. </p>
<p>It will return 0 if the histogram is empty. </p>

</div>
</div>
<a id="a8d344b2c6ad00c1b180357c55646a23c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d344b2c6ad00c1b180357c55646a23c">&#9670;&nbsp;</a></span>min()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;uint64_t Min, uint64_t Max, size_t Precision&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html">seastar::metrics::internal::approximate_exponential_histogram</a>&lt; Min, Max, Precision &gt;::min </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns the smallest value that could have been added to this histogram This method looks for the first non-empty bucket and returns its lower limit. Note that for non-empty histogram the lowest potentail value is Min. </p>
<p>It will return 0 if the histogram is empty. </p>

</div>
</div>
<a id="aab7b7955bac2b219af02a5926bef5d88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab7b7955bac2b219af02a5926bef5d88">&#9670;&nbsp;</a></span>quantile()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;uint64_t Min, uint64_t Max, size_t Precision&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classseastar_1_1metrics_1_1internal_1_1approximate__exponential__histogram.html">seastar::metrics::internal::approximate_exponential_histogram</a>&lt; Min, Max, Precision &gt;::quantile </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>quantile</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get a histogram quantile </p>
<p>This method will returns the estimated value at a given quantile. If there are N values in the histogram. It would look for the bucket that the total number of elements in the buckets before it are less than N * quantile and return that bucket lower limit.</p>
<p>For example, quantile(0.5) will find the bucket that that sum of all buckets values below it is less than half and will return that bucket lower limit. In this example, this is a median estimation.</p>
<p>It will return 0 if the histogram is empty. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>seastar/core/internal/<a class="el" href="estimated__histogram_8hh_source.html">estimated_histogram.hh</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
